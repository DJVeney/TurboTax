<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:o="http://omnifaces.org/ui"
                template="/WEB-INF/template.xhtml">

    <ui:define name="head">

        <!--        <h:outputScript name="jquery-1.12.3.min.js" library="js" />
                <h:outputScript name="powertour.3.1.0.min.js" library="js" />
                <h:outputStylesheet name="powertour.3.1.0.css" library="css" />
                <h:outputStylesheet name="powertour-style-clean.css" library="css" />
                <h:outputStylesheet name="animate.min.css" library="css" />-->


        <!--        <script>
                    $(document).ready(function ($) {
                        $.powerTour({
                            tours: [
                                {
                                    trigger: '#powertour-demo-trigger-id',
                                    startWith: 1,
                                    easyCancel: true,
                                    escKeyCancel: true,
                                    scrollHorizontal: false,
                                    keyboardNavigation: true,
                                    loopTour: false,
                                    highlightStartSpeed: 200,
                                    highlightEndSpeed: 200,
                                    onStartTour: function (ui) { },
                                    onEndTour: function (ui) { },
                                    onProgress: function (ui) { },
                                    steps: [
                                        {
                                            hookTo: '#powertour-demo-box-1',
                                            content: '#step-id-1',
                                            width: 400,
                                            position: 'bm',
                                            offsetY: 20,
                                            offsetX: 0,
                                            fxIn: 'flipInX',
                                            fxOut: 'bounceOutLeft',
                                            showStepDelay: 0,
                                            center: 'step',
                                            scrollSpeed: 400,
                                            scrollEasing: 'swing',
                                            scrollDelay: 0,
                                            timer: '00:00',
                                            highlight: true,
                                            keepHighlighted: false,
                                            keepVisible: false,
                                            onShowStep: function (ui) {},
                                            onHideStep: function (ui) { }
                                        },
                                        {
                                            hookTo: '#powertour-demo-box-2',
                                            content: '#step-id-2',
                                            width: 300,
                                            position: 'lt',
                                            offsetY: 0,
                                            offsetX: 20,
                                            fxIn: 'fadeIn',
                                            fxOut: 'fadeOut',
                                            showStepDelay: 0,
                                            center: 'step',
                                            scrollSpeed: 400,
                                            scrollEasing: 'swing',
                                            scrollDelay: 0,
                                            timer: '00:00',
                                            highlight: true,
                                            keepHighlighted: false,
                                            keepVisible: false,
                                            onShowStep: function (ui) {},
                                            onHideStep: function (ui) { }
                                        },
                                        {
                                            hookTo: '#powertour-demo-box-3',
                                            content: '#step-id-3',
                                            width: 400,
                                            position: 'tr',
                                            offsetY: -80,
                                            offsetX: 40,
                                            fxIn: 'rotateIn',
                                            fxOut: 'rotateOut',
                                            showStepDelay: 0,
                                            center: 'step',
                                            scrollSpeed: 400,
                                            scrollEasing: 'swing',
                                            scrollDelay: 0,
                                            timer: '00:00',
                                            highlight: false,
                                            keepHighlighted: false,
                                            keepVisible: false,
                                            onShowStep: function (ui) {},
                                            onHideStep: function (ui) { }
                                        }
                                    ]
                                }
                            ]
                        });
        
                        // run on load trigger method
                        $.powerTour('run', 1);
        
                    });
                </script>-->
    </ui:define>

    <ui:define name="content">
        <div class="Container100 Responsive100 ui-fluid">
            <div class="Card">






                <!--
                                <div class="single-step" id="step-id-1" style="display: none">
                                    <h3>Step one</h3>
                                    <p>This is the first step. It should be located below (inc offsetY ) the 'demo box 1' example blocks.</p>
                                    <br/>
                                    <a href="#" data-powertour-action="next">Next step...</a>
                                </div>
                
                                <div class="single-step" id="step-id-2" style="display: none">
                                    <h3>Step two</h3>
                                    <p>This is the second step and should be located next to (left side) 'demo box 2' example blocks. This step highlights the step and hookTo element.</p>
                                    <br/>
                                    <a href="#" data-powertour-action="prev">Prev step</a>
                                    <a href="#" data-powertour-action="next" style="float:right">Next step</a>
                                </div>
                                <div class="single-step" id="step-id-3" style="display: none">
                                    <h3>Step three</h3>
                                    <p>This is the third and last step and should be located above and over the 'demo box 3' example blocks with the use of the 'offsetY' and 'offsetX' options.</p>
                                    <br/>
                                    <a href="#" data-powertour-action="prev">Prev step...</a>
                                    <a href="#" data-powertour-action="stop" style="float:right">End tour</a>
                                </div>-->

                <h:form id="formNuevo">
                    <o:importConstants type="com.ideaspymes.turbotax.modelo.TipoImpuesto"/>
                    <o:importConstants type="com.ideaspymes.turbotax.modelo.Libro"/>
                    <o:importConstants type="com.ideaspymes.turbotax.modelo.Clasificacion"/>
                    <p:growl autoUpdate="true" id="growl"/>
                    <p:focus/>


                    <p:panelGrid columns="2" columnClasses="ui-grid-col-2,ui-grid-col-4" layout="grid" styleClass="ui-panelgrid-blank" style="border:0px none; background-color:transparent;">
                        <h:outputText value="Cliente:" style="font-weight: bold"/>
                        <p:outputPanel>

                            <p:inputText placeholder="RUC del Cliente" value="#{facturasBean.ruc}"
                                         style="width: 78%;margin-top: 5px;" rendered="true">

                                <p:ajax event="blur" update="cvCliente razonSocialCliente"
                                        process="@this cvCliente razonSocialCliente" 
                                        listener="#{facturasBean.buscarContribuyenteCliente()}"/>
                            </p:inputText>


                            <p:inputText placeholder="CV" value="#{facturasBean.cvCliente}"
                                         id="cvCliente" size="1"
                                         style="width: 10%;margin-top: 5px; margin-left: 10px" required="true"/>
                            <p:spacer/>
                            <p:inputText id="razonSocialCliente" 
                                         style="margin-top: 10px;"
                                         placeholder="RAZON SOCIAL CLIENTE" value="#{facturasBean.actual.razonSocialCliente}"/>
                        </p:outputPanel>


                    </p:panelGrid>
                    <div class="Separator"></div>

                    <p:outputPanel id="tipoFacturaIRP">
                        <p:panelGrid columns="2" columnClasses="ui-grid-col-2,ui-grid-col-4" layout="grid" styleClass="ui-panelgrid-blank" style="border:0px none; background-color:transparent;">
                            <h:outputText value="Tipo Impuesto: " style="font-weight: bold"/>

                            <p:outputPanel>
                                <p:selectOneMenu value="#{facturasBean.actual.tipoImpuesto}" style="margin-top: 5px;margin-bottom: 5px;">
                                    <p:ajax event="change" process="@this" update="tipoFacturaIRP periodos tipos totales @(.numeroFact)" listener="#{facturasBean.siCambiaTipoImpuesto()}"/>
                                    <f:selectItem itemLabel="--" itemValue=""/>
                                    <f:selectItems value="#{productorEnums.obtTiposImpuestos()}"
                                                   var="e" itemLabel="#{e.value}" itemValue="#{e.value}"/>
                                </p:selectOneMenu>


                            </p:outputPanel>


                            <h:outputText value="Libro:" style="font-weight: bold"
                                          rendered="#{(facturasBean.muestraTipoFactura or facturasBean.muestraSoloIvaSimplificado or facturasBean.muestraClasificacionSoloIRPC or facturasBean.muestraClasificacionIRP)}"
                                          styleClass="tipoFacturaIRP"/>

                            <p:panelGrid columns="3" columnClasses="ui-grid-col-4,ui-grid-col-4,ui-grid-col-4" layout="grid" styleClass="ui-panelgrid-blank" style="border:0px none; background-color:transparent;padding: 0px;margin: 0px"
                                         rendered="#{(facturasBean.muestraTipoFactura or facturasBean.muestraSoloIvaSimplificado or facturasBean.muestraClasificacionSoloIRPC or facturasBean.muestraClasificacionIRP)}">


                                <p:selectOneMenu value="#{facturasBean.actual.tipoFactura}" 
                                                 rendered="#{facturasBean.muestraTipoFactura}" styleClass="tipoFacturaIRP">
                                    <p:ajax event="change" process="@this" update="tipoFacturaIRP periodos tipos @(.proveedor) @(.numeroFact)"
                                            listener="#{facturasBean.siCambiaLibro()}"/>
                                    <f:selectItem itemLabel="--" itemValue=""/>
                                    <f:selectItem itemLabel="VENTAS" itemValue="VENTA"/>
                                    <f:selectItem itemLabel="COMPRAS" itemValue="COMPRA"/>

                                </p:selectOneMenu>

                                <p:selectOneMenu value="#{facturasBean.actual.tipoFactura}" 
                                                 rendered="#{facturasBean.muestraSoloIvaSimplificado}" styleClass="tipoFacturaIRP">
                                    <p:ajax event="change" process="@this" update="tipoFacturaIRP periodos tipos @(.proveedor) @(.numeroFact)"
                                            listener="#{facturasBean.siCambiaLibro()}"/>
                                    <f:selectItem itemLabel="--" itemValue=""/>
                                    <f:selectItem itemLabel="VENTAS" itemValue="VENTA"/>
                                    <f:selectItem itemLabel="COMPRAS" itemValue="COMPRA"/>
                                </p:selectOneMenu>


                                <p:selectOneMenu value="#{facturasBean.actual.tipoFactura}" 
                                                 rendered="#{facturasBean.muestraClasificacionIRP}" styleClass="tipoFacturaIRP">
                                    <p:ajax event="change" process="@this" update="tipoFacturaIRP periodos tipos @(.proveedor) @(.numeroFact)"
                                            listener="#{facturasBean.siCambiaLibro()}"/>
                                    <f:selectItem itemLabel="--" itemValue=""/>
                                    <f:selectItem itemLabel="INGRESOS" itemValue="INGRESOS"/>
                                    <f:selectItem itemLabel="EGRESOS" itemValue="EGRESOS"/>
                                    <f:selectItem itemLabel="INVERSIONES" itemValue="INVERSIONES"/>
                                </p:selectOneMenu>



                                <p:selectOneMenu value="#{facturasBean.actual.tipoFactura}" 
                                                 rendered="#{facturasBean.actual.tipoImpuesto == TipoImpuesto.IRPC }" styleClass="tipoFacturaIRP">
                                    <p:ajax event="change" process="@this" update="tipoFacturaIRP periodos tipos @(.proveedor) @(.numeroFact)"
                                            listener="#{facturasBean.siCambiaLibro()}"/>
                                    <f:selectItem itemLabel="--" itemValue=""/>
                                    <f:selectItem itemLabel="GASTOS SIN CRÉDITO FISCAL" itemValue="GASTOS_SIN_CREDITO_FISCAL"/>
                                </p:selectOneMenu>



                            </p:panelGrid>



                            <h:outputText value="Inscripto en IVA:" style="font-weight: bold" 
                                          rendered="#{(facturasBean.actual.tipoImpuesto == TipoImpuesto.IRPC)}" 
                                          styleClass="tipoFacturaIRP"/>

                            <p:selectOneMenu value="#{facturasBean.actual.inscriptoeniva}" 
                                             rendered="#{(facturasBean.actual.tipoImpuesto == TipoImpuesto.IRPC)}" 
                                             styleClass="tipoFacturaIRP">
                                <p:ajax event="change" process="@this " update=" tipoFacturaIRP tipos @(.proveedor) periodos"/>
                                <f:selectItems value="#{facturasBean.itemsInscriptoEnIva}"/>
                            </p:selectOneMenu>


                            <h:outputText value="Clasificación:" style="font-weight: bold" 
                                          rendered="#{(facturasBean.actual.tipoFactura == Libro.VENTA or facturasBean.actual.tipoFactura == Libro.COMPRA or facturasBean.actual.tipoFactura == Libro.INGRESOS or facturasBean.actual.tipoFactura == Libro.EGRESOS or facturasBean.actual.tipoFactura == Libro.INVERSIONES)}" 
                                          styleClass="tipoFacturaIRP"/>




                            <p:selectOneMenu value="#{facturasBean.actual.clasificacion}" 
                                             panelStyle="width:180px"
                                             rendered="#{(facturasBean.actual.tipoFactura == Libro.VENTA or facturasBean.actual.tipoFactura == Libro.COMPRA or facturasBean.actual.tipoFactura == Libro.INGRESOS or facturasBean.actual.tipoFactura == Libro.EGRESOS or facturasBean.actual.tipoFactura == Libro.INVERSIONES)}" 
                                             styleClass="tipoFacturaIRP">
                                <p:ajax event="change" process="@this " update="tipoFacturaIRP tipos @(.proveedor)"/>
                                <f:selectItems value="#{facturasBean.itemsClasificacion}" var="c" itemValue="#{c}" itemLabel="#{c}"/>
                                <p:column style="padding: 3px; width: 130px; word-break: break-all; word-wrap: break-word;">
                                    <h:panelGroup>
                                        <div class="wordwrap" style="padding: 3px; width: 130px; word-break: break-all; word-wrap: break-word;">
                                            <span>#{c}</span>
                                        </div>
                                    </h:panelGroup>

                                </p:column>

                            </p:selectOneMenu>


                            <p:spacer rendered="#{(facturasBean.muestraGenerarAporteIPS or facturasBean.muestraProvieneBienesGananciales)}" styleClass="tipoFacturaIRP"/>


                            <p:selectBooleanCheckbox value="#{facturasBean.generarAporteIPS}" itemLabel="Generar Aporte IPS?"
                                                     rendered="#{(facturasBean.muestraGenerarAporteIPS)}"
                                                     styleClass="tipoFacturaIRP">
                                <p:ajax process="@this"/>
                            </p:selectBooleanCheckbox>

                            <p:selectBooleanCheckbox value="#{facturasBean.actual.provienebienesgananciales}" itemLabel="Proviene de bienes gananciales?"
                                                     rendered="#{(facturasBean.muestraProvieneBienesGananciales)}"
                                                     styleClass="tipoFacturaIRP">
                                <p:ajax process="@this"/>

                            </p:selectBooleanCheckbox>





                            <h:outputText value="Sub Clasificación:" style="font-weight: bold" 
                                          rendered="#{(facturasBean.actual.tipoFactura == Libro.EGRESOS)}" 
                                          styleClass="tipoFacturaIRP"/>

                            <p:selectOneMenu value="#{facturasBean.actual.subclasificacion}" 
                                             panelStyle="width:180px"
                                             rendered="#{(facturasBean.actual.tipoFactura == Libro.EGRESOS)}" 
                                             styleClass="tipoFacturaIRP">
                                <p:ajax event="change" process="@this" update="tipoFacturaIRP tipos @(.proveedor)"/>
                                <f:selectItem itemValue="--" itemLabel=""/>
                                <f:selectItem itemValue="Directos (Para producir Renta Gravada)" itemLabel="Directos (Para producir Renta Gravada)"/>
                                <f:selectItem itemValue="Indirectos" itemLabel="Indirectos"/>

                            </p:selectOneMenu>



                            <h:outputText value="Tipo Documento:" style="font-weight: bold" 
                                          rendered="#{((facturasBean.actual.tipoFactura == Libro.VENTA or facturasBean.actual.tipoFactura == Libro.COMPRA or facturasBean.actual.tipoFactura == Libro.GASTOS_SIN_CREDITO_FISCAL or facturasBean.actual.tipoFactura == Libro.INGRESOS or facturasBean.actual.tipoFactura == Libro.EGRESOS or facturasBean.actual.tipoFactura == Libro.INVERSIONES))}" 
                                          styleClass="tipoFacturaIRP"/>

                            <p:selectOneMenu value="#{facturasBean.actual.tipodocumento}" 
                                             rendered="#{((facturasBean.actual.tipoFactura == Libro.VENTA or facturasBean.actual.tipoFactura == Libro.COMPRA  or facturasBean.actual.tipoFactura == Libro.GASTOS_SIN_CREDITO_FISCAL or facturasBean.actual.tipoFactura == Libro.INGRESOS or facturasBean.actual.tipoFactura == Libro.EGRESOS or facturasBean.actual.tipoFactura == Libro.INVERSIONES) )}" 
                                             styleClass="tipoFacturaIRP">
                                <p:ajax event="change" process="@this" update=" tipoFacturaIRP tipos totales @(.proveedor ,.numeroFact, .calculos)"/>
                                <f:selectItems value="#{facturasBean.itemsTipoDocumento}"/>

                            </p:selectOneMenu>


                        </p:panelGrid>

                    </p:outputPanel>

                    <p:outputPanel id="tipos">



                    </p:outputPanel>
                    <div class="Separator"></div>

                    <p:panelGrid columns="2" columnClasses="ui-grid-col-2,ui-grid-col-4" layout="grid" styleClass="ui-panelgrid-blank" style="border:0px none; background-color:transparent;">


                        <h:outputText value="Fecha:" style="font-weight: bold"/>



                        <p:calendar value="#{facturasBean.actual.fecha}" locale="es" pattern="dd/MM/yyyy">
                            <p:ajax process="@this" update="periodos" event="blur"/>
                        </p:calendar>


                        <h:outputText value="Periodo a declarar:" style="font-weight: bold;"/>


                        <p:outputPanel id="periodos" style="text-align: left;margin: 0px;padding: 0px;"> 

                            <p:panelGrid columns="3" columnClasses="ui-grid-col-4,ui-grid-col-4,ui-grid-col-4" layout="grid" styleClass="ui-panelgrid-blank" style="border:0px none; background-color:transparent;">




                                <p:selectOneMenu value="#{facturasBean.actual.periodoMes}"
                                                 rendered="#{(facturasBean.actual.tipoImpuesto == TipoImpuesto.IVA_GENERAL)}">
                                    <f:selectItem itemLabel="--" itemValue=""/>
                                    <f:selectItem itemLabel="Ene" itemValue="Ene"/>
                                    <f:selectItem itemLabel="Feb" itemValue="Feb"/>
                                    <f:selectItem itemLabel="Mar" itemValue="Mar"/>
                                    <f:selectItem itemLabel="Abr" itemValue="Abr"/>
                                    <f:selectItem itemLabel="May" itemValue="May"/>
                                    <f:selectItem itemLabel="Jun" itemValue="Jun"/>
                                    <f:selectItem itemLabel="Jul" itemValue="Jul"/>
                                    <f:selectItem itemLabel="Ago" itemValue="Ago"/>
                                    <f:selectItem itemLabel="Sep" itemValue="Sep"/>
                                    <f:selectItem itemLabel="Oct" itemValue="Oct"/>
                                    <f:selectItem itemLabel="Nov" itemValue="Nov"/>
                                    <f:selectItem itemLabel="Dic" itemValue="Dic"/>
                                </p:selectOneMenu>


                                <p:selectOneMenu value="#{facturasBean.actual.periodoMes}"
                                                 rendered="#{(facturasBean.actual.tipoImpuesto == TipoImpuesto.IRPC and facturasBean.actual.inscriptoeniva == 'GENERAL')}">
                                    <f:selectItem itemLabel="--" itemValue=""/>
                                    <f:selectItem itemLabel="Ene" itemValue="Ene"/>
                                    <f:selectItem itemLabel="Feb" itemValue="Feb"/>
                                    <f:selectItem itemLabel="Mar" itemValue="Mar"/>
                                    <f:selectItem itemLabel="Abr" itemValue="Abr"/>
                                    <f:selectItem itemLabel="May" itemValue="May"/>
                                    <f:selectItem itemLabel="Jun" itemValue="Jun"/>
                                    <f:selectItem itemLabel="Jul" itemValue="Jul"/>
                                    <f:selectItem itemLabel="Ago" itemValue="Ago"/>
                                    <f:selectItem itemLabel="Sep" itemValue="Sep"/>
                                    <f:selectItem itemLabel="Oct" itemValue="Oct"/>
                                    <f:selectItem itemLabel="Nov" itemValue="Nov"/>
                                    <f:selectItem itemLabel="Dic" itemValue="Dic"/>
                                </p:selectOneMenu>


                                <p:selectOneMenu styleClass="campos" value="#{facturasBean.actual.periodoMes}"  rendered="#{(facturasBean.actual.tipoImpuesto == TipoImpuesto.IVA_SIMPLIFICADO)}">
                                    <f:selectItem itemLabel="1er Cuatri" itemValue="1er Cuatri"/>
                                    <f:selectItem itemLabel="2do Cuatri" itemValue="2do Cuatri"/>
                                    <f:selectItem itemLabel="3er Cuatri" itemValue="3er Cuatri"/>
                                </p:selectOneMenu>

                                <p:selectOneMenu styleClass="campos" value="#{facturasBean.actual.periodoMes}"  rendered="#{(facturasBean.actual.tipoImpuesto == TipoImpuesto.IRPC and  facturasBean.actual.inscriptoeniva == 'SIMPLIFICADO')}">
                                    <f:selectItem itemLabel="1er Cuatri" itemValue="1er Cuatri"/>
                                    <f:selectItem itemLabel="2do Cuatri" itemValue="2do Cuatri"/>
                                    <f:selectItem itemLabel="3er Cuatri" itemValue="3er Cuatri"/>
                                </p:selectOneMenu>

                                <p:inputText value="#{facturasBean.actual.periodoAnio}" placeholder="Año" id="periodoAnio" size="4"/>


                            </p:panelGrid>



                        </p:outputPanel>
                        <p:spacer/>

                        <!--p:outputPanel styleClass="plazosAnios" rendered="{facturasBean.muestraPlazoAnio}">
                            <h:outputText value="Plazos en años:" style="font-weight: bold;margin-bottom: 5px" rendered="{facturasBean.muestraPlazoAnio}"/>
                        </p:outputPanel>
                        <p:outputPanel styleClass="plazosAnios" rendered="{facturasBean.muestraPlazoAnio}">
                            <h:inputText value="{facturasBean.actual.plazoAnios}" style="font-size: 12pt; font-weight: bold;max-width: 30px;text-align: right" maxlength="3" 
                                     rendered="{facturasBean.muestraPlazoAnio}"/>
                        </p:outputPanel-->




                        <p:outputPanel styleClass="numeroFact">
                            <h:outputText value="Nro timbrado:" 
                                          rendered="#{(facturasBean.muestraNroTimbrado)}"/>
                        </p:outputPanel>

                        <p:outputPanel styleClass="numeroFact">
                            <p:inputText value="#{facturasBean.actual.nrotimbrado}" size="12" style="font-size: 12pt; font-weight: bold;text-align: right" maxlength="8"
                                         rendered="#{(facturasBean.muestraNroTimbrado)}">
                            </p:inputText>

                        </p:outputPanel>

                        <p:outputPanel styleClass="numeroFact">
                            <h:outputText value="Nro Documento:" style="font-weight: bold;margin-bottom: 5px"/>
                        </p:outputPanel>


                        <p:outputPanel styleClass="numeroFact">


                            <p:panelGrid columns="3" rendered="#{not(facturasBean.muestraNroUnico)}"
                                         columnClasses="ui-grid-col-2,ui-grid-col-2,ui-grid-col-4" layout="grid" styleClass="ui-panelgrid-blank" style="border:0px none; background-color:transparent;">
                                <p:inputText value="#{facturasBean.codEst}" size="3" style="font-size: 12pt; font-weight: bold;text-align: right" maxlength="3" 
                                             binding="#{codEstablecimiento}"
                                             id="codEstablecimiento"/>

                                <p:inputText value="#{facturasBean.codSuc}" size="3" style="font-size: 12pt; font-weight: bold;text-align: right" maxlength="3" 
                                             binding="#{puntoExpedicion}"
                                             id="puntoExpedicion"/>

                                <p:inputText value="#{facturasBean.numeroFact}" size="7" style="font-size: 12pt; font-weight: bold;text-align: right" maxlength="7"
                                             id="numero">

                                    <p:ajax event="blur" update="codEstablecimiento,puntoExpedicion,numero" process="codEstablecimiento,puntoExpedicion,numero"/>
                                </p:inputText>
                            </p:panelGrid>


                            <p:inputText value="#{facturasBean.numeroFact}" size="12" style="font-size: 12pt; font-weight: bold;text-align: right" maxlength="7"

                                         rendered="#{(facturasBean.muestraNroUnico)}">

                                <p:ajax event="blur" update="codEstablecimiento,puntoExpedicion,numero" process="codEstablecimiento,puntoExpedicion,numero"/>
                            </p:inputText>
                        </p:outputPanel>
                        <p:spacer></p:spacer>

                        <!--                                                <p:inputText style="margin-bottom: 10px;width: 50%;"
                                                                                     value="{facturasBean.actual.numero}" rendered="{not facturasBean.muestraGenerarAporteIPS}"/>-->


                        <p:outputPanel styleClass="proveedor">
                            <h:outputText value="Comprador/Proveedor:" style="font-weight: bold"
                                          rendered="#{facturasBean.mostrarProveedor}"/>
                        </p:outputPanel>



                        <p:outputPanel styleClass="proveedor">
                            <p:inputText placeholder="RUC del Comprador/Proveedor" value="#{facturasBean.rucProveedor}"
                                         style="width: 78%;margin-top: 5px;"
                                         rendered="#{facturasBean.mostrarProveedor}">
                                <p:ajax event="blur" update="cvProveedor razonSocialProveedor"
                                        process="@this cvProveedor razonSocialProveedor" 
                                        listener="#{facturasBean.buscarContribuyenteProveedor()}"/>
                            </p:inputText>
                            <p:inputText placeholder="CV" value="#{facturasBean.cvProveedor}"
                                         id="cvProveedor" size="1"
                                         style="width: 10%;margin-top: 5px; margin-left: 10px"
                                         rendered="#{facturasBean.mostrarProveedor}"/>
                        </p:outputPanel>

                        <p:outputPanel styleClass="proveedor">
                            <p:spacer/>
                        </p:outputPanel>
                        <p:outputPanel styleClass="proveedor">
                            <p:inputText id="razonSocialProveedor"
                                         style="margin-top: 10px;"
                                         placeholder="RAZON SOCIAL COMPRADOR/PROVEEDOR" value="#{facturasBean.actual.razonSocialProveedor}"
                                         rendered="#{facturasBean.mostrarProveedor}"/>
                        </p:outputPanel>

                    </p:panelGrid>


                    <div class="Separator"></div>


                    <p:outputPanel id="totales" styleClass="calculos">
                        <p:panelGrid columns="3" columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-4" layout="grid" styleClass="ui-panelgrid-blank" style="border:0px none; background-color:transparent;">

                            <p:spacer/>
                            <p:outputPanel rendered="#{((facturasBean.actual.tipoImpuesto != TipoImpuesto.IVA_SIMPLIFICADO and facturasBean.actual.tipoImpuesto != TipoImpuesto.IRPC  and facturasBean.actual.tipoImpuesto != TipoImpuesto.IRP)  and not(facturasBean.muestraGenerarAporteIPS))}" style="margin-right: 20px">

                                <p:panelGrid columns="3" columnClasses="ui-grid-col-4,ui-grid-col-4,,ui-grid-col-4" layout="grid" styleClass="ui-panelgrid-blank" style="border:0px none; background-color:transparent;">
                                    <h:outputText value="Exento:" style="font-weight: bold;margin-top: 10px"/>
                                    <h:outputText value="Gravada 5%:" style="font-weight: bold;margin-top: 10px;margin-left: 10px"/>
                                    <h:outputText value="Gravada 10%:" style="font-weight: bold;margin-top: 10px;margin-left: 10px"/>

                                    <p:inputText style="margin-top: 5px;width: 90%;font-size: 12pt!important;font-weight: bold;text-align: right"
                                                 value="#{facturasBean.actual.exento}">
                                        <p:ajax event="blur" process="@this" update="@(.calculos)"/>
                                        <f:convertNumber locale="#{formato.locale}"/>
                                    </p:inputText>
                                    <p:inputText style="margin-top: 5px;width: 90%;margin-left: 10px;font-size: 12pt!important;font-weight: bold;text-align: right"
                                                 value="#{facturasBean.actual.gravada05}">
                                        <p:ajax event="blur" process="@this" update="@(.calculos)"/>
                                        <f:convertNumber locale="#{formato.locale}"/>
                                    </p:inputText>

                                    <p:inputText style="margin-top: 5px;width: 90%;margin-left: 10px;font-size: 12pt!important;font-weight: bold;text-align: right"
                                                 value="#{facturasBean.actual.gravada10}">
                                        <p:ajax event="blur" process="@this" update="@(.calculos)"/>
                                        <f:convertNumber locale="#{formato.locale}"/>
                                    </p:inputText>


                                    <h:outputText value="IVA 5%:" style="font-weight: bold;margin-top: 10px"/>
                                    <h:outputText value="IVA 10%:" style="font-weight: bold;margin-top: 10px;margin-left: 10px"/>
                                    <h:outputText value="Total IVA:" style="font-weight: bold;margin-top: 10px;margin-left: 10px"/>

                                    <p:inputText style="margin-top: 5px;width: 90%;font-size: 12pt!important;font-weight: bold;text-align: right" styleClass="calculos"
                                                 value="#{facturasBean.actual.iva05}">
                                        <f:convertNumber locale="#{formato.locale}"/>
                                    </p:inputText>
                                    <p:inputText style="margin-top: 5px;width: 90%;font-size: 12pt!important;margin-left: 10px;font-weight: bold;text-align: right" styleClass="calculos"
                                                 value="#{facturasBean.actual.iva10}"> 
                                        <f:convertNumber locale="#{formato.locale}"/>
                                    </p:inputText>
                                    <p:inputText style="margin-top: 5px;width: 90%;font-size: 12pt!important;margin-left: 10px;font-weight: bold;text-align: right" styleClass="calculos"
                                                 value="#{facturasBean.actual.totalIva}">
                                        <f:convertNumber locale="#{formato.locale}"/>
                                    </p:inputText>

                                    <p:spacer/>
                                    <h:outputText value="Gravada 5% Neto:" style="font-weight: bold;margin-top: 10px;margin-left: 10px"/>
                                    <h:outputText value="Gravada 10% Neto:" style="font-weight: bold;margin-top: 10px;margin-left: 10px"/>

                                    <p:spacer/>
                                    <p:inputText style="margin-top: 5px;width: 90%;font-size: 12pt!important;margin-left: 10px;font-weight: bold;text-align: right" styleClass="calculos"
                                                 value="#{facturasBean.actual.gravada05Neto}"> 
                                        <f:convertNumber locale="#{formato.locale}"/>
                                    </p:inputText>
                                    <p:inputText style="margin-top: 5px;width: 90%;font-size: 12pt!important;margin-left: 10px;font-weight: bold;text-align: right" styleClass="calculos"
                                                 value="#{facturasBean.actual.gravada10Neto}">
                                        <f:convertNumber locale="#{formato.locale}"/>
                                    </p:inputText>

                                    <p:spacer/>
                                    <h:outputText value="Total Neto:" style="font-weight: bold;margin-top: 10px;margin-left: 10px"/>
                                    <h:outputText value="Total Bruto:" style="font-weight: bold;margin-top: 10px;margin-left: 10px"/>

                                    <p:spacer/>
                                    <p:inputText style="margin-top: 5px;width: 90%;margin-left: 10px;font-size: 12pt!important;font-weight: bold;text-align: right" styleClass="calculos"
                                                 value="#{facturasBean.actual.totalNeto}"> 
                                        <f:convertNumber locale="#{formato.locale}"/>
                                    </p:inputText>
                                    <p:inputText style="margin-top: 5px;width: 90%;margin-left: 10px;font-size: 12pt!important;font-weight: bold;text-align: right" styleClass="calculos"
                                                 value="#{facturasBean.actual.totalBruto}">
                                        <f:convertNumber locale="#{formato.locale}"/>
                                    </p:inputText>

                                </p:panelGrid>
                            </p:outputPanel>

                        </p:panelGrid>

                        <p:outputPanel rendered="#{(facturasBean.actual.tipoImpuesto == TipoImpuesto.IRPC)}">

                            <p:panelGrid columns="2" columnClasses="ui-grid-col-2,ui-grid-col-4" layout="grid" styleClass="ui-panelgrid-blank" style="border:0px none; background-color:transparent;">


                                <h:outputText value="Total Bruto:" style="font-weight: bold;"/>
                                <p:inputText styleClass="calculos" style="font-size: 12pt!important;font-weight: bold;text-align: right"
                                             value="#{facturasBean.actual.totalBruto}">
                                    <f:convertNumber locale="#{formato.locale}"/>
                                </p:inputText>

                            </p:panelGrid>
                        </p:outputPanel>


                        <p:outputPanel rendered="#{(facturasBean.actual.tipoImpuesto == TipoImpuesto.IVA_SIMPLIFICADO and facturasBean.actual.tipoImpuesto != TipoImpuesto.IRP)}">

                            <p:panelGrid columns="3" columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-4" layout="grid" styleClass="ui-panelgrid-blank" style="border:0px none; background-color:transparent;">



                                <p:spacer/>
                                <h:outputText value="Total Bruto:" style="font-weight: bold;"/>
                                <p:spacer/>

                                <p:spacer/>

                                <p:inputText styleClass="calculos" style="font-size: 12pt!important;font-weight: bold;text-align: right"
                                             value="#{facturasBean.actual.totalBruto}">
                                    <p:ajax event="blur" process="@this" update="@(.calculos)"/>
                                    <f:convertNumber locale="#{formato.locale}"/>
                                </p:inputText>
                                <p:spacer/>

                                <p:spacer/>
                                <h:outputText value="Total IVA:" style="font-weight: bold;margin-top: 10px;"/>
                                <h:outputText value="Total Neto:" style="font-weight: bold;margin-top: 10px;"/>

                                <p:spacer/>
                                <p:inputText style="margin-top: 5px;font-size: 12pt!important;font-weight: bold;text-align: right" styleClass="calculos"
                                             value="#{facturasBean.actual.totalIva}">
                                    <f:convertNumber locale="#{formato.locale}"/>
                                </p:inputText>


                                <p:inputText style="margin-top: 5px;font-size: 12pt!important;font-weight: bold;text-align: right" styleClass="calculos"
                                             value="#{facturasBean.actual.totalNeto}"> 
                                    <f:convertNumber locale="#{formato.locale}"/>
                                </p:inputText>

                            </p:panelGrid>
                        </p:outputPanel>


                        <p:outputPanel rendered="#{((facturasBean.actual.tipoImpuesto == TipoImpuesto.IRP) and not(facturasBean.actual.aplicaIva))}" styleClass="calculos">

                            <p:panelGrid columns="3" columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-4" layout="grid" styleClass="ui-panelgrid-blank" style="border:0px none; background-color:transparent;">




                                <h:outputText value="Total Bruto:" style="font-weight: bold;"/>
                                <p:spacer/>
                                <p:spacer/>

                                <p:inputText styleClass="calculos" style="font-size: 12pt!important;font-weight: bold;text-align: right"
                                             value="#{facturasBean.actual.totalBruto}">
                                    <p:ajax event="blur" process="@this" update="@(.calculos)"/>
                                    <f:convertNumber locale="#{formato.locale}"/>
                                </p:inputText>
                                <p:spacer/>
                                <p:spacer/>




                                <h:outputText value="Monto Pagado/Cobrado:" style="font-weight: bold;margin-top: 10px;"/>
                                <p:spacer/>
                                <p:spacer/>




                                <p:inputText style="margin-top: 5px;font-size: 12pt!important;font-weight: bold;text-align: right" styleClass="calculos"
                                             value="#{facturasBean.actual.montopagado}"> 
                                    <f:convertNumber locale="#{formato.locale}"/>
                                </p:inputText>
                                <p:spacer/>
                                <p:spacer/>





                                <h:outputText value="Gravados:" style="font-weight: bold;margin-top: 10px;"/>
                                <h:outputText value="No Gravados y Exonerados:" style="font-weight: bold;margin-top: 10px;"/>
                                <p:spacer/>

                                <p:inputText style="margin-top: 5px;font-size: 12pt!important;font-weight: bold;text-align: right" styleClass="calculos"
                                             value="#{facturasBean.actual.gravados}"> 
                                    <f:convertNumber locale="#{formato.locale}"/>
                                </p:inputText>
                                <p:inputText style="margin-top: 5px;font-size: 12pt!important;font-weight: bold;text-align: right" styleClass="calculos"
                                             value="#{facturasBean.actual.nogravadoyexonerado}"> 
                                    <f:convertNumber locale="#{formato.locale}"/>
                                </p:inputText>
                                <p:spacer/>


                            </p:panelGrid>
                        </p:outputPanel>


                        <p:outputPanel rendered="#{((facturasBean.actual.tipoImpuesto == TipoImpuesto.IRP) and (facturasBean.actual.aplicaIva))}" styleClass="calculos">

                            <p:panelGrid columns="3" columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-4" layout="grid" styleClass="ui-panelgrid-blank" style="border:0px none; background-color:transparent;">




                                <h:outputText value="Total Bruto:" style="font-weight: bold;"/>
                                <p:spacer/>
                                <p:spacer/>

                                <p:inputText styleClass="calculos" style="font-size: 12pt!important;font-weight: bold;text-align: right"
                                             value="#{facturasBean.actual.totalBruto}">
                                    <p:ajax event="blur" process="@this @(.calculos)" update="@(.calculos)"/>
                                    <f:convertNumber locale="#{formato.locale}"/>
                                </p:inputText>
                                <p:spacer/>
                                <p:spacer/>

                                <h:outputText value="Total IVA:" style="font-weight: bold;margin-top: 10px;" rendered="#{(facturasBean.actual.aplicaIva)}"/>


                                <h:outputText value="Monto Pagado/Cobrado:" style="font-weight: bold;margin-top: 10px;"/>
                                <p:spacer/>



                                <p:inputText style="margin-top: 5px;font-size: 12pt!important;font-weight: bold;text-align: right" styleClass="calculos"
                                             value="#{facturasBean.actual.totalIva}">
                                    <p:ajax event="blur" process="@this" update="@this"/>
                                    <f:convertNumber locale="#{formato.locale}"/>
                                </p:inputText>


                                <p:inputText style="margin-top: 5px;font-size: 12pt!important;font-weight: bold;text-align: right" styleClass="calculos"
                                             value="#{facturasBean.actual.montopagado}"> 
                                    <f:convertNumber locale="#{formato.locale}"/>
                                </p:inputText>
                                <p:spacer/>





                                <h:outputText value="Gravados:" style="font-weight: bold;margin-top: 10px;"/>
                                <h:outputText value="No Gravados y Exonerados:" style="font-weight: bold;margin-top: 10px;"/>
                                <p:spacer/>

                                <p:inputText style="margin-top: 5px;font-size: 12pt!important;font-weight: bold;text-align: right" styleClass="calculos"
                                             value="#{facturasBean.actual.gravados}"> 
                                    <f:convertNumber locale="#{formato.locale}"/>
                                </p:inputText>
                                <p:inputText style="margin-top: 5px;font-size: 12pt!important;font-weight: bold;text-align: right" styleClass="calculos"
                                             value="#{facturasBean.actual.nogravadoyexonerado}"> 
                                    <f:convertNumber locale="#{formato.locale}"/>
                                </p:inputText>
                                <p:spacer/>


                            </p:panelGrid>
                        </p:outputPanel>

                    </p:outputPanel>



                    <div class="EmptyBox30"/>
                    <div class="CardFooter">
                        <div class="ui-grid ui-grid-responsive">
                            <div class="ui-grid-row">
                                <div class="ui-grid-col-2">
                                    <p:commandButton value="Guardar" action="#{facturasBean.guardar()}" ajax="false" styleClass="GreenButton"/>
                                </div>
                            </div>
                        </div>
                    </div>


                </h:form>

            </div>
        </div>




    </ui:define>

</ui:composition>